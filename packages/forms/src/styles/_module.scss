////
/// Forms Module
/// @group forms
////

.#{$prefix}-select-group,
.#{$prefix}-input-group {
  &:not(:last-child) {
    margin-bottom: space(3N);
  }

  /**
   * Modificateur au niveau du groupe pour appliquer un état validé aux labels
   */
  &--valid {
    .#{$prefix}-label {
      @include scheme-element-text-color(success);
    }
  }

  /**
   * Modificateur au niveau du groupe pour appliquer un état d'erreur aux labels
   */
  &--error {
    .#{$prefix}-label {
      @include scheme-element-text-color(error);
    }
  }

  /**
   * Modificateur au niveau du groupe pour appliquer un état inactif aux labels
   */
  &--disabled {
    .#{$prefix}-label {
      @include disabled-colors(true);
    }
  }
}

.#{$prefix}-label {
  display: block;
  font-size: font-size(14);
  line-height: line-height(normal);
  font-family: $font-family-sans;
  @include scheme-element-text-color(g800, true);

  /**
   * Modificateur au niveau du label pour appliquer un état d'erreur au label
   */
  &--error {
    @include scheme-element-text-color(error);
  }

  & + .#{$prefix}-input,
  & + .#{$prefix}-select {
    margin-top: space(1N);
  }
}

/**
 * Style du texte d'aide
 */
.#{$prefix}-hint-text {
  font-size: font-size(12);
  line-height: line-height(normal);
  font-family: $font-family-sans;
  margin-top: 0;
  margin-bottom: 0;
  display: block;

  @include scheme-element-text-color(g600, true);

  & + .#{$prefix}-input,
  & + .#{$prefix}-input-wrap,
  & + .#{$prefix}-select {
    margin-top: space(1N);
  }
}

/**
 * Style du texte d'erreur
 */
.#{$prefix}-error-text {
  display: flex;
  align-items: center;
  font-size: font-size(12);
  line-height: line-height(normal);
  font-family: $font-family-sans;
  margin-top: space(1N);

  @include scheme-element-text-color(error, true);

  @include font-icon(alert-line, sm) {

    display: inline-block;
    margin-right: space(0-5N);
  }
}

/**
 * Style du texte de l'état validé
 */
.#{$prefix}-valid-text {
  display: flex;
  align-items: center;
  font-size: font-size(12);
  line-height: line-height(normal);
  font-family: $font-family-sans;
  margin-top: space(1N);

  @include scheme-element-text-color(success, true);

  @include font-icon(check-line, sm) {
    display: inline-block;
    margin-right: space(0-5N);
  }
}

.#{$prefix}-form-group {
  margin-bottom: space(4N);
}

/**
 * Style d'un ensemble de champs
 */
.#{$prefix}-fieldset {
  position: relative;
  margin: 0;
  padding: 0;
  border: 0;
  @include scheme-element-text-color(g800, true);

  .#{$prefix}-hint-text {
    margin-bottom: space(2N);
  }

  &__legend {
    margin-bottom: space(2N);
    font-weight: 700;

    + .#{$prefix}-hint-text {
      margin-top: -(space(1N));
    }
  }

  &__content {
    position: relative;

    > .#{$prefix}-input-group:first-child {
      margin-top: space(2N);
    }
  }

  /**
   * Modificateur pour afficher les éléments en inline
   */
  &--inline {
    .#{$prefix}--fieldset__content {
      display: flex;
      flex-wrap: wrap;
      align-items: flex-end;
      justify-content: flex-start;
    }

    .#{$prefix}-checkbox-group {
      display: inline-flex;
      margin-bottom: 0;

      &:not(:last-child) {
        margin-right: space(5v);
      }
    }

    .#{$prefix}-radio-group {
      display: inline-flex;
      margin-bottom: 0;

      &:not(:last-child) {
        input[type="radio"] + label {
          margin-right: space(7v);
        }
      }

      &:first-child {
        input[type="radio"] + label {
          margin-top: 0;
        }
      }

      &:last-child {
        input[type="radio"] + label {
          margin-bottom: 0;
        }
      }
    }

    .#{$prefix}-hint-text {
      margin-top: space(0-5N);
      margin-bottom: space(0-5N);
    }

    .#{$prefix}-fieldset__legend {
      margin-bottom: space(0-5N);
    }

    .#{$prefix}-error-text,
    .#{$prefix}-valid-text {
      margin-top: -(space(0-5N));
    }
  }

  /**
   * Modificateur pour gérer l'état d'erreur
   */
  &--error {
    .#{$prefix}-fieldset__content {
      &::before {
        content: "";
        position: absolute;
        width: 2px;
        top: space(1-5N);
        bottom: space(1-5N);
        left: -(space(1N));
        @include scheme-element-bg-color(error, true);
      }
    }

    .#{$prefix}-label {
      @include scheme-element-text-color(error);
    }
  }

  /**
   * Modificateur pour gérer l'état de validation
   */
  &--valid {
    .#{$prefix}-fieldset__content {
      @include before() {
        content: "";
        position: absolute;
        width: 2px;
        top: space(1-5N);
        bottom: space(1-5N);
        left: -(space(1N));
        @include scheme-element-bg-color(success);
      }
    }

    .#{$prefix}-label {
      @include scheme-element-text-color(success);
    }
  }

  /**
   * Mixin disabled pour gérer l'état disabled
   */
  @include disabled(true, false, false, '.#{$prefix}-label');
}

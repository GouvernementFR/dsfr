////
/// Header Module
/// @group header
////

#{dse(header)} {
  position: sticky;
  top: 0;
  @extend %default-text-color;
  @include size(100%);
  @include shadow(md);
  @include scheme-element-bg-color(w-g750, true);
  z-index: 1000;

  @include body {
    position: relative;
    z-index: 2000;
    @include scheme-element-bg-color(w);
    @include display-flex(row, center, flex-start, wrap);
    @include margin(0 -3v);
    @include padding(3v 0);
    @include margin(0 calc(50% - 50vw - 1.25rem), md);
    @include padding(6v calc(50vw - 50%), md);
    transition: padding 0.3s;

    @include respond-from(md) {
      flex-wrap: nowrap;
    }
  }

  @import 'modules/popin';

  @import 'modules/navbar';

  &__brand {
    @include padding(0 3v);
    @include logo(sm, none) {
      @include margin(-1em);
    }
  }

  &__operator {
    @include padding(0 3v);
  }

  &__tools {
    @include respond-from(md) {
      flex-direction: row;
      align-items: center;
      @include margin(0 0 0 auto);
      text-align: right;

      #{dse(shortcuts)} + #{dse(search-bar)} {
        // @include margin-top(4v);
      }
    }
  }

  &__brand,
  &__operator,
  &__navbar,
  &__tools {
    @include respond-from(md) {
      @include padding(0 5v);
    }
  }

  &__brand,
  &__operator,
  &__tools {
    @include respond-from(md) {
      flex: 1 0 auto;
    }
  }

  &__tools:not(&__popin) {
    display: none;
    @include respond-from(md) {
      @include display-flex(null);
    }
  }

  @import 'modules/shortcuts';
  @import 'modules/search';
  @import 'modules/nav';

  //TODO: rf-link
  #{dse(btn) + dse(fi-close-line)} {
    @include scheme-element-bg-color(t-plain, false, override);
    @include scheme-element-text-color(bf500, false);
  }

  #{dse(logo)} {
    display: flex;
    flex-direction: column;

    @include before {
      transition: font-size 0.3s, margin-bottom 0.3s;
    }

    &__title {
      transition: max-height 0.3s, margin-bottom 0.3s;
      max-height: 50px;
      overflow: hidden;
    }

    @include after {
      transition: max-height 0.3s, margin-bottom 0.3s;
      max-height: 50px;
    }
  }

  &--sticky {
    #{dse(logo)} {
      @include before {
        font-size: 1.4em;
        margin-bottom: 0;
      }

      &__title {
        max-height: 0;
        margin-bottom: 0;
      }

      @include after {
        max-height: 0;
        margin-bottom: 0;
      }
    }

    #{dse(header__body)} {
      @include padding-y(3v);
    }
  }
}

<%

let dataTabsInside = [{
  tabs: 2,
  starterId: 100
},
{
  tabs: 2,
  starterId: 103
},
{
  tabs: 2,
  starterId: 113
},
{
  tabs: 2,
  starterId: 123
}];

%>



<%#
# paramètres Tabs

* tabs (integer, required)

* icon (string, optionnal) : nom de l'icone dans le bouton

%>

<%
let tabsClasses = locals.classes || [];
let tabsAttrs = locals.attributes || {};
let activeClass = '';
tabsClasses.push(prefix + '-tabs');

if (locals.icon !== undefined) btnClasses.push(prefix + '-fi-' + locals.icon);

%>


<div <%- includeClasses(tabsClasses) %> <%- includeAttrs(tabsAttrs); %>>
    <ul class="<%= prefix + '-tabs__list' %>" role="tablist">
        <% for (let i = 0; i < locals.tabs; i++) { %>
        <% let activeClass = i === 0 %>
        <li>
            <button class="<%= prefix + '-tabs__tab' %>" aria-selected="<%= activeClass %>"
                tabindex="<%= activeClass ? '0' : '-1' %>" aria-controls="tabpanel-<%= (i + locals.starterId) %>"
                role="tab">intitulé de l'onglet</button>
            <div id="tabpanel-<%= (i + locals.starterId) %>" class="<%= prefix + '-tabs__panel' %>" role="tabpanel"
                tabindex="0">
                <!-- données de test -->
                <div>

                    <div <%- includeClasses(tabsClasses) %> <%- includeAttrs(tabsAttrs); %>>
                        <ul class="<%= prefix + '-tabs__list' %>" role="tablist">
                            <% for (let i = 0; i < locals.tabs; i++) { %>
                            <% let activeClass = i === 0 %>
                            <li>
                                <button class="<%= prefix + '-tabs__tab' %>" aria-selected="<%= activeClass %>"
                                    tabindex="<%= activeClass ? '0' : '-1' %>"
                                    aria-controls="tabpanel-<%= (i + locals.starterId) %>" role="tab">intitulé de
                                    l'onglet</button>
                                <div id="tabpanel-<%= (i + locals.starterId) %>" class="<%= prefix + '-tabs__panel' %>"
                                    role="tabpanel" tabindex="0">
                                    <!-- données de test -->
                                    <div>
                                        <%- include('./tabs-default', dataTabsInside[i]) %>
                                    </div>
                                </div>
                            </li>
                            <% } %>
                        </ul>
                    </div>

                </div>
            </div>
        </li>
        <% } %>
    </ul>
</div>
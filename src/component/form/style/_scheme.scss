////
/// form Scheme
/// @group form
////

@mixin _form-scheme($legacy: false) {
  #{ns(label)} {
    @include scheme-element-text-color(label grey, (legacy:$legacy));

    /**
    * Modificateur au niveau du label pour appliquer un état d'erreur au label
    */
    &--error {
      @include scheme-element-text-color(default error, (legacy:$legacy));
    }

    /**
    * Modificateur au niveau du label pour appliquer un état de succès au label
    */
    &--success {
      @include scheme-element-text-color(default success, (legacy:$legacy));
    }
  }

  /**
  * Style du texte d'aide
  */
  #{ns(hint-text)} {
    @include scheme-element-text-color(mention grey, (legacy:$legacy));
  }

  /**
  * Style du texte d'erreur
  */
  #{ns(error-text)} {
    @include scheme-element-text-color(default error, (legacy:$legacy));
  }

  /**
  * Style du texte de l'état success
  */
  #{ns(success-text)} {
    @include scheme-element-text-color(default success, (legacy:$legacy));
  }

  /**
  * Style d'un ensemble de champs
  */
  #{ns(fieldset)} {
    &__legend {
      @include scheme-element-text-color(title grey, (legacy:$legacy));
    }

    /**
    * Modificateur pour gérer l'état d'erreur
    */
    &--error {
      &:not(:disabled) {
        &#{ns(fieldset--radio)},
        &#{ns(fieldset--checkbox)} {
          #{ns(fieldset__content)} {
            @include before {
              @include scheme-element-box-shadow-color(plain error, (legacy:$legacy), left-2-in);
            }
          }

          #{ns(fieldset__legend)} {
            @include scheme-element-text-color(default error, (legacy:$legacy));
          }
        }

        label {
          @include scheme-element-text-color(default error, (legacy:$legacy));
        }

        #{ns(input)} {
          @include scheme-element-box-shadow-color(plain error, (legacy:$legacy), bottom-2-in);
        }
      }
    }

    /**
    * Modificateur pour gérer l'état success
    */
    &--success {
      &:not(:disabled) {
        &#{ns(fieldset--radio)},
        &#{ns(fieldset--checkbox)} {
          #{ns(fieldset__content)} {
            @include before {
              @include scheme-element-box-shadow-color(plain success, (legacy:$legacy), left-2-in);
            }
          }

          #{ns(fieldset__legend)} {
            @include scheme-element-text-color(default success, (legacy:$legacy));
          }
        }

        label {
          @include scheme-element-text-color(default success, (legacy:$legacy));
        }

        #{ns(input)} {
          @include scheme-element-box-shadow-color(plain success, (legacy:$legacy), bottom-2-in);
        }
      }
    }
  }

  #{ns-group(select), ns-group(input)} {
    /**
    * Modificateur au niveau du groupe pour appliquer un état success aux labels
    */
    &--success {
      label {
        @include scheme-element-text-color(default success, (legacy:$legacy));
      }
    }

    /**
    * Modificateur au niveau du groupe pour appliquer un état d'erreur aux labels
    */
    &--error {
      label {
        @include scheme-element-text-color(default error, (legacy:$legacy));
      }
    }

    /**
    * Modificateur au niveau du groupe pour appliquer un état inactif aux labels
    */
    &--disabled {
      label {
        @include disabled-colors((legacy: $legacy, text: true));
      }
    }
  }

  /**
  * Mixin disabled pour gérer l'état disabled
  */
  @include disabled {
    label {
      @include disabled-colors((legacy: $legacy, text: true));
    }
  }
}

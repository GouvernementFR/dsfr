<%
const checkboxes = locals.checkboxes || {};
const checkbox = locals.checkbox || {};
const jsonData = JSON.parse(include('../../../form/example/sample/data', { form: checkboxes }));
const id = checkboxes.id;

if (!checkbox.label) checkbox.label = getText('label', 'form') + ' ' + getText('title', 'checkbox').toLowerCase();

switch (typeof checkbox.hint) {
  case 'boolean':
    checkbox.hint = { hint: getText('hint', 'form')};
    break;

  case 'string':
    checkbox.hint = { hint: checkbox.hint };
    break;
}

const elements = [];
for (let i = 1; i < 4; i++) elements.push({
  type: 'checkbox',
  inline: checkboxes.inline || undefined,
  data: {
    ...checkbox,
    id: `${id}-${i}`,
    name: `${id}-${i}`,
    checked: i === 2 && checkboxes.checked
  }
});

const fields = {
  choice: true,
  elements: elements,
  ...checkboxes,
  ...jsonData
}
%>

<%- include('../../../form/example/sample/fieldset', {fieldset: fields}) %>

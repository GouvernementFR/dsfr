////
/// Accordion Module
/// @group accordion
////

@use '../../../../../../sass/selector';
@use '../../../../../../sass/spacing';
@use '../../../../../../sass/typography';
@import '../../../../link/_content/style/tmp/tool';
@import 'setting';
@import 'tool';

@mixin first () {
  #{selector.ns(accordion)} {
    @include spacing.relative();

    @include selector.before('', block) {
      @include spacing.absolute(0, 0, 0 , 0, 100%, 100%);
      pointer-events: none;
    }

    // add heading style for accessibility concerns and reset margins
    @include selector.title {
      @include spacing.margin(0);
      display: block;
      font-size: unset;
      line-height: unset;
    }

    &__btn {
      @include _build-link-base;
      @include _link-display(flex);
      @include nest-accordion-button(add-line);
      @include spacing.size(100%);
      text-align: left;
      @include spacing.margin(0);

      @include selector.after {
        @include spacing.margin-right(0);
        @include spacing.margin-left(auto);
      }

      &[aria-expanded="true"] {
        @include typography.font-weight('bold');
        @include icon.image(subtract-line, after);
      }

      @include spacing.padding(3v 0);
      @include spacing.padding(3v 4v, md);
    }

    #{ns(collapse)} {
      @include typography.enable-list-style;
      @include spacing.margin(0 -1v, md);
      @include spacing.padding-x(4v, md);

      transition: visibility 0.3s, padding 0.3s;

      &--expanded {
        @include spacing.padding-top(4v);
        @include spacing.padding-bottom(6v);
      }
    }
  }

  #{selector.ns-group(accordions)} {
    @include typography.disable-list-style;
  }
}


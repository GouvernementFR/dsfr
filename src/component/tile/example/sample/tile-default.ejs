<%
const tile = locals.tile || {};
const content = tile.content || {};
const data = {
  content: {
    ...content,
    title: content.title || 'Intitulé de la tuile',
    ...(content.description && {description: content.description === true ? lorem('', 60) : content.description})
  },
  size: tile.size,
  enlarge: tile.enlarge !== false && tile.footer === undefined,
  icon: tile.icon,
  download: tile.download,
}

if (tile.horizontal) {
  data.horizontal = tile.horizontal;
}

if (tile.vertical) {
  data.vertical = tile.vertical;
}

if (tile.pictogram === true) {
  data.header = {};
  data.header.pictogram = {name: 'city-hall'};
}

if (tile.content) {
  if (tile.content.details) {
    data.content.details = content.details === true ? 'Détail (optionel)' : tile.content.details
  }

  if (tile.content.badge) {
    data.content.badge = { size: 'sm', label: 'label badge', accent: 'purple-glycine'};
  }

  if (tile.content.tag) {
    data.content.tag = { size: 'sm', label: 'label tag'};
  }
}

%>

<%- include('../../template/ejs/tile', {tile: data}); %>

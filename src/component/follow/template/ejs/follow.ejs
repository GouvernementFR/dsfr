<%#
# paramètres follow

* followClasses (array, required) : Classes supplémentaires

* attributes (array, optionnal) : attributs spécifiques

* socials (object, optionnal) : données des réseaux sociaux (cf: socials.ejs)

* newsletter (object, optionnal) : données du bloc newsletter (cf: newletter.ejs)

%>
<% eval(include('../../../../core/index.ejs')); %>

<%
 let follow = locals.follow || {};
 let followClasses = follow.classes || [];
 followClasses.push(prefix + '-follow');

 let followAttributes = follow.attributes || {};
 let socials = follow.socials || undefined;
 let newsletter = follow.newsletter || undefined;
 %>

<div <%- includeClasses(followClasses); %> <%- includeAttrs(followAttributes) %>>
  <div class="<%= prefix %>-container">
    <div class="<%= prefix %>-grid-row">

      <%
      let gclasses = [prefix+'-col-12'];
      if (follow.newsletter) {
        if (socials) gclasses = [prefix+'-col-12', prefix+'-col-md-8'] %>
        <div <%- includeClasses(gclasses) %> >
          <%- include('newsletter.ejs', {newsletter: follow.newsletter}); %>
        </div>
      <% }
      if (follow.socials) {
        if (follow.newsletter) gclasses = [prefix+'-col-12', prefix+'-col-md-4'] %>
        <div <%- includeClasses(gclasses) %>>
          <%- include('socials.ejs', {socials: follow.socials}); %>
        </div>
      <% } %>
    </div>
  </div>
</div>

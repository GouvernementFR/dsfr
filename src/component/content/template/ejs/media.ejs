<%#
# paramÃ¨tres media

// TODO: documentation

%>
<% eval(include('../../../../core/index.ejs')); %>
<% let content = locals.content || {} %>

<%
let classes = content.classes || [];
let attributes = content.attributes || [];
classes.push(prefix + '-content-media');

switch (content.size) {
    case 'sm':
        classes.push(prefix + '-content-media--sm');
        break;

    case 'lg':
        classes.push(prefix + '-content-media--lg');
        break;
}

let type = (content.img !== undefined || content.svg !== undefined) ? 'img' : 'vid';

let tag;

switch (type) {
    case 'img':
        tag = 'figure';
        attributes["role"] = "group";
        if (content.caption != undefined) attributes["aria-label"] = content.caption;
        break;

    case 'vid':
        tag = 'div';
        break;
}
%>

<<%= tag %> <%- includeClasses(classes); %> <%- includeAttrs(attributes); %>>
<%
switch(type) {
    case 'img':
%>
        <%- include('./media-img', {content: content}); %>
<%      break;

    case 'vid':
%>
        <%- include('./media-vid', {content: content}); %>
<%      break;
}
%>

</<%= tag %>>

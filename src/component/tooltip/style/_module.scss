////
/// Tooltip Module : tooltip
/// @group tooltip
////

@use 'module/spacing';

#{ns(tooltip)} {
  display: block;
  max-width: min(spacing.space(96v), spacing.space(calc((100vw - 8v) * 2 / 3)));
  @include padding(2v);
  @include text-style(xs);
  opacity: 1;
  visibility: visible;
  transition: opacity 0.3s, visibility 0.3s;

  &:not(&--shown) {
    // transition in/out
    visibility: hidden;
    opacity: 0;
  }

  &#{ns(placement)} {
    --referent-center: spacing.space(4v);

    @include before('', block) {
      border-style: solid;
      position: absolute;
    }

    @include after('', block) {
      border-style: solid;
      position: absolute;
    }

    &--top {
      @include before('', block) {
        border-width: spacing.space(1.5v 1v 0 1v);
        bottom: spacing.space(-1.5v);
        top: initial;
      }

      @include after('', block) {
        border-width: spacing.space(1.5v 1v 0 1v);
        bottom: spacing.space(-1v);
        top: initial;
      }
    }

    &--bottom {
      @include before('', block) {
        border-width: spacing.space(0 1v 1.5v 1v);
        top: spacing.space(-1.5v);
        bottom: initial;
      }

      @include after('', block) {
        border-width: spacing.space(0 1v 1.5v 1v);
        top: spacing.space(-1v);
        bottom: initial;
      }
    }

    &--center {
      @include before('', block) {
        left: calc(50% - #{spacing.space(0.75v)});
      }

      @include after('', block) {
        left: calc(50% - #{spacing.space(0.75v)});
      }
    }

    &--left {
      @include before('', block) {
        left: spacing.space(calc(var(--referent-center) - 1v));
      }

      @include after('', block) {
        left: spacing.space(calc(var(--referent-center) - 1v));
      }
    }

    &--right {
      @include before('', block) {
        left: spacing.space(calc(100% - var(--referent-center) - 1v));
      }

      @include after('', block) {
        left: spacing.space(calc(100% - var(--referent-center) - 1v));
      }
    }
  }
}

////
/// Table Module
/// @group Table
////

@use 'module/color';

@mixin _table-scheme($legacy: false) {
    #{ns(table)} {

        &__wrapper {
            // @include color.background-image((border contrast grey) (border contrast grey) (border contrast grey), (legacy: $legacy));

            @include before {
                @include color.box-shadow(contrast grey, (legacy:$legacy), top-1-in left-1-in bottom-1-in right-1-in);
            }
        }

        // &__container {
            // @include before {
            //     @include color.box-shadow(contrast grey, (legacy:$legacy), top-1-in left-1-in right-1-in);
            // }
        // }

        &__content {
            #{ns(cell)} {
                &__selected {
                    @include color.background(action-low blue-france, (legacy: $legacy, hover: true));
                }

                &__hover {
                    &::after {
                        @include color.background-image((border default blue-france) (border default blue-france), (legacy: $legacy));
                    }
                }
            }

            table {
                thead {
                    tr {
                        &:first-child {
                            #{ns(cell__hover)} {
                                &::after {
                                    @include color.background-image((border default blue-france) (border default blue-france) (border default blue-france) (border default blue-france), (legacy: $legacy));
                                }
                            }
                        }
                    }

                    th {
                        @include color.background(alt grey, (legacy: $legacy, hover: true));
                        @include color.background-image((border plain grey) (border plain grey), (legacy: $legacy));


                        &#{ns(cell__selected)} {
                            @include color.background(action-low blue-france, (legacy: $legacy, hover: true));
                        }

                        &:last-child {
                            @include color.background(alt grey, (legacy: $legacy, hover: true));
                            @include color.background-image((border plain grey), (legacy: $legacy));
                        }

                        &:hover {
                            &::after {
                                @include color.background-image((border default blue-france) (border default blue-france) (border default blue-france) (border default blue-france), (legacy: $legacy));
                            }
                        }
                    }
                }

                tbody {
                    tr {
                        &:hover {
                            &::after {
                                @include color.background-image((border default blue-france) (border default blue-france) (border default blue-france) (border default blue-france), (legacy: $legacy));
                            }
                        }

                        &:last-child {
                            th,
                            td {
                                &[scope='row'] {
                                    @include color.background-image((border plain grey) (border contrast grey), (legacy: $legacy));
                                }
                            }

                            #{ns(cell__hover)} {
                                &::after {
                                    @include color.background-image((border default blue-france) (border default blue-france) (border default blue-france) (border default blue-france), (legacy: $legacy));
                                }
                            }
                        }

                        &[aria-selected="true"] {
                            td {
                                @include color.background(action-low blue-france, (legacy: $legacy, hover: true));
                            }
                        }
                    }

                    th[scope="row"] {
                        @include color.background(alt grey, (legacy: $legacy));
                        @include color.background-image((border plain grey) (border contrast grey), (legacy: $legacy));
                    }

                    th,
                    td {
                        position: relative;
                        @include color.text(title grey, (legacy: $legacy));

                        @include color.background-image((border contrast grey), (legacy: $legacy));
                        @include color.background(default grey, (legacy: $legacy, hover: true));
                    }

                    #{ns(cell)} {
                        &__actionable {
                            @include color.background-image((border contrast grey), (legacy: $legacy));
                            @include color.background(default grey, (legacy: $legacy, hover: true));
                        }
                    }
                }
            }

        }

        &__shadow--left {
            #{ns(table__content)} {
                #{ns(cell__actionable--last__right)} {
                    @include color.background-image((border contrast grey) (border plain grey), (legacy: $legacy));

                    &[scope='col'] {
                        @include color.background-image((border plain grey) (border plain grey), (legacy: $legacy));
                    }
                }
            }
        }

        &__detail {
            @include color.text(mention grey, (legacy:$legacy));
        }
    }
}

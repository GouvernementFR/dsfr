////
/// Table Module
/// @group Table
////

@use 'module/color';

@mixin _table-scheme($legacy: false) {
    #{ns(table)} {

        &__wrapper {
            // @include color.background-image((border contrast grey) (border contrast grey) (border contrast grey), (legacy: $legacy));

            @include before {
                @include color.box-shadow(contrast grey, (legacy:$legacy), top-1-in left-1-in bottom-1-in right-1-in);
            }
        }

        &__content {
            table {
                tbody {

                }

                thead {
                    th {
                        @include color.background(alt grey, (legacy: $legacy, hover: true));
                        @include color.background-image((border plain grey) (border contrast grey), (legacy: $legacy));

                        &:last-child {
                            @include color.background(alt grey, (legacy: $legacy, hover: true));
                            @include color.background-image((border plain grey), (legacy: $legacy));
                        }

                        &:hover {
                            &::after {
                                @include color.background-image((border default blue-france) (border default blue-france) (border default blue-france) (border default blue-france), (legacy: $legacy));
                            }
                        }
                    }
                }

                tbody {
                    #{ns(cell)} {
                        &__selected {
                            @include color.background(action-low blue-france, (legacy: $legacy, hover: true));
                        }

                        &__row--header {
                            @include color.background(alt grey, (legacy: $legacy));
                            @include color.background-image((border contrast grey) (border contrast grey), (legacy: $legacy));
                        }

                        &__actionable {
                            @include color.background(default grey, (legacy: $legacy, hover: true));
                        }
                    }

                    tr {
                        &:not(:has(table)) {
                            &:hover {
                                &::after {
                                    @include color.background-image((border default blue-france) (border default blue-france) (border default blue-france) (border default blue-france), (legacy: $legacy));
                                }
                            }
                        }

                        &[aria-selected="true"] {
                            td {
                                @include color.background(action-low blue-france, (legacy: $legacy, hover: true));
                            }
                        }
                    }

                    th,
                    td {
                        @include color.text(title grey, (legacy: $legacy));

                        @include color.background-image((border contrast grey) (border contrast grey), (legacy: $legacy));
                        @include color.background(default grey, (legacy: $legacy, hover: true));

                        &:last-child {
                            @include color.background-image((border contrast grey), (legacy: $legacy));
                        }
                    }
                }
            }
        }

        &__shadow--left {
            #{ns(table__content)} {
                #{ns(cell__fixed--last)} {
                    @include color.background-image((border contrast grey) (border plain grey), (legacy: $legacy));

                    &[scope='col'] {
                        @include color.background-image((border plain grey) (border plain grey), (legacy: $legacy));
                    }
                }

                thead {
                    #{ns(cell__fixed--last)} {
                        &#{ns(cell__row--header)} {
                            @include color.background-image((border plain grey) (border plain grey), (legacy: $legacy));
                        }
                    }
                }
            }
        }

        &__detail {
            @include color.text(mention grey, (legacy:$legacy));
        }
    }
}

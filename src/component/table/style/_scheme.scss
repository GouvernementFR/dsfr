////
/// Table Module
/// @group Table
////

@use 'module/color';

@mixin _table-scheme($legacy: false) {
    #{ns(table)} {

        &__wrapper {
            @include color.background-image((border default grey) (border default grey) (border default grey) (border default grey), (legacy: $legacy));
        }

        &__content {
            thead {
                tr {
                    @include color.background-image((border plain grey), (legacy: $legacy));
                }

                th {
                    &[scope="col"] {
                        @include color.background(alt grey, (legacy: $legacy, hover: true));
                        @include color.background-image((border plain grey), (legacy: $legacy));
                    }

                    &:not([scope="col"]) {
                        @include color.background(alt grey, (legacy: $legacy, hover: true));
                        @include color.background-image((border plain grey) (border plain grey), (legacy: $legacy));
                    }

                    // &:hover {
                    //     background-color: var(--hover);
                    // }
                }
            }

            tbody {
                tr {
                    @include color.background-image((border default grey), (legacy: $legacy));

                    // &:hover {
                    //     th,
                    //     td {
                    //         background-color: var(--hover);
                    //     }
                    // }

                    &:last-child {
                        th,
                        td {
                            &[scope='row'] {
                                @include color.background-image((border plain grey) (border default grey), (legacy: $legacy));
                            }
                        }
                    }
                }

                th[scope="row"] {
                    @include color.background(alt grey, (legacy: $legacy));
                    @include color.background-image((border plain grey) (border default grey), (legacy: $legacy));
                }

                th,
                td {
                    position: relative;
                    @include color.text(title grey, (legacy: $legacy));

                    @include color.background-image((border default grey), (legacy: $legacy));
                    @include color.background(default grey, (legacy: $legacy, hover: true));

                    // &::before {
                    //     @include color.background(default grey, (legacy: $legacy, hover: true));
                    // }
                }

                #{ns(row)} {
                    &__selected {
                        th,
                        td {
                            @include color.background(action-low blue-france, (legacy: $legacy, hover: true));
                        }
                    }
                }
            }

            #{ns(cell)} {
                &__fixed {
                    @include color.background-image((border default grey), (legacy: $legacy));
                    @include color.background(default grey, (legacy: $legacy, hover: true));
                }
            }
        }

        &__shadow {
            &--left {
                #{ns(cell__fixed--last__right)} {
                    @include color.background-image((border default grey) (border default grey), (legacy: $legacy));

                    &[scope='col'] {
                        @include color.background-image((border default grey) (border plain grey), (legacy: $legacy));
                    }
                }
            }
        }
    }
}

<%
const radios = locals.radios || {}
const radio = locals.radio || {};

const jsonData = JSON.parse(include('../../../form/example/sample/data', { form: radios }));

if (!radio.label) radio.label = getText('label', 'form') + ' ' + getText('title', 'radio').toLowerCase();


switch (typeof radio.hint) {
  case 'boolean':
    radio.hint = { hint: getText('hint', 'form')};
    break;

  case 'string':
    radio.hint = { hint: radio.hint };
    break;
}

const id = radios.id;
const elements = [];
for (let i = 1; i < 4; i++) elements.push({
  type: 'radio',
  inline: radios.inline || null,
  data: {
    ...radio,
    id: `${id}-${i}`,
    name: id,
    checked: i === 2 && radios.checked
  }
});

const fieldset = {
  choice: true,
  elements: elements,
  ...radios,
  ...jsonData
}

%>

<%- include('../../../form/example/sample/fieldset', {fieldset: fieldset}) %>

<%#
# paramètres alerts

* id (String, required): id

* title (String, optional): Titre de l'alerte

* text (string, optional) : Texte de decription de l'alerte

* type (String, required): type d'alerte [info/success/error/warning]

%>

%>
<% eval(include('../../../core/index.ejs')); %>

<%
 let id = locals.id;
 let size = locals.size || undefined;
 let text = locals.text || '';
 let image = locals.image || undefined;
 let author = locals.author || false;
 let href = locals.href || false;
 let sources = locals.sources || [];
 let quoteClasses = [prefix + '-quote'];
 let citeAttr = [];
 if (image) quoteClasses.push(prefix + '-quote--column');
 if (href) citeAttr.cite = href;
 %>

<figure <%- includeClasses(quoteClasses) %>>
  <blockquote <%- href ? includeAttrs(citeAttr) : ''%>>
    <p <%- (size !== undefined) ? includeClasses([prefix+'-text--'+size]) : '' %>>« <%= text %> »</p>
  </blockquote>
  <figcaption>
    <% if (author) { %>
      <p class="<%= prefix %>-quote__author"><%= author %></p>
    <% } %>

    <% if (sources.length > 0) { %>
      <ul class="<%= prefix %>-quote__source">
      <% for (source in sources) { %>
        <li><%- sources[source] %></li>
      <% } %>
      </ul>
    <% } %>

    <% if (image && image.img) { %>
      <div class="<%= prefix %>-quote__image">
        <%- imgContent(image.img, image.alt) %>
      </div>
    <% } %>
  </figcaption>
</figure>

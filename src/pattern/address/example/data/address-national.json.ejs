<%
const address = locals.address || {};
const elements = [];

elements.push({
  type: 'input',
  data: {
    id: uniqueId('address-item'),
    label: getText('label.address', 'address'),
    hint: getText('hint.address', 'address'),
    name: 'address',
  }
});

elements.push({
  type: 'input',
  data: {
    id: uniqueId('address-item'),
    label: getText('label.complement', 'address') + ' ' + getText('label.optional', 'address'),
    hint: getText('hint.complement', 'address'),
    name: 'complement',
  }
});

if (address.locality) {
  elements.push({
    type: 'input',
    data: {
      id: uniqueId('address-item'),
      label: getText('label.locality', 'address'),
      name: 'locality',
    }
  });
}

elements.push({
  type: 'input',
  inline: true,
  grow: true,
  modifier: 'postal',
  data: {
    id: uniqueId('address-item'),
    label: getText('label.postal', 'address'),
    name: 'postal'
  }
});

elements.push({
  type: 'input',
  data: {
    id: uniqueId('address-item'),
    label: getText('label.city', 'address'),
    name: 'city'
  }
});

const data = {
  id: uniqueId('address'),
  elements: elements
}
%>

<%- JSON.stringify(data); %>

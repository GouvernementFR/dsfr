////
/// Schemes Tools : Data URI SVG
/// @group schemes
////

/// Combinaison de couleur appliquée à un svg intégré en data-uri
/// @access public
/// @param {String} $decisions - token de décision
/// @param {Boolean} $legacy - si true, applique la couleur directement, sinon au travers d'une custom property
/// @param {Object} $value - le SVG en data-uri
/// @param {String} $prop - propriété sur laquelle est assignée le svg
/// @example @include scheme-element-data-uri-svg(text-title neutral, false, url("data:image/svg+xml;utf8,<svg><path fill="$COLOR" /></svg>"));
@mixin scheme-element-data-uri-svg($decisions, $legacy: false, $value, $prop:background-image) {
  $tokens: _tokenize(artwork, $decisions);
  $result: _get-result($tokens, $legacy, $value);


  // la custom property --data-uri-svg permet d'interchanger les svgs suivant les différents types de combinaison
  --data-uri-svg: #{_replace_color($value, _scheme-set-color($set, light), true)};

  #{$dark-theme-selector} & {
    --data-uri-svg: #{_replace_color($value, _scheme-set-color($set, dark), true)};
  }

  #{$not-dark-theme-selector} {
    $i: 0;
    @each $type, $variation in $scheme-blocks {
      $i: ($i + 1);
      [class*="#{$base-scheme}-#{$type}"] & {
        @if length($set) >= $i {
          --data-uri-svg: #{_replace_color($value, _scheme-set-color($set, light), true)};
        }
      }
    }
  }

  #{$prop}: var(--data-uri-svg);
}

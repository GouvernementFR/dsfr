////
/// Core Color Tools : Utilities
/// @group core
////

@mixin _include-prop($prop, $part, $token, $tint, $value, $important) {
  $result: _get-value($part, $token, $tint);
  @if $important {
    $result: #{$result} !important;
  }

  #{$prop}: _replace_color($value, $result, false);

  @if $part == background {
    @include _include-hover-prop($token, $tint, $important);
  }
}

@mixin _include-hover-prop-by-theme($set, $important, $theme: light) {
  $hue: _get-color($set, $theme, hue);
  $saturation: _get-color($set, $theme, saturation);
  $base: _get-color($set, $theme, lightness);

  $lightness: $base;

  @if $theme == light {
    @if $lightness > 35% {
      $lightness: $base - 25%;
    }
    @else {
      $lightness: $base + 25%;
    }
  }
  @else {
    @if $lightness < 70% {
      $lightness: $base + 25%;
    }
    @else {
      $lightness: $base - 25%;
    }
  }

  $hsl: #{$hue}, #{$saturation}, #{$lightness};

  @if $important {
    $hsl: #{$hsl} !important;
  }

  --hsl: #{$hsl};
}

@mixin _include-hover-prop($token, $tint, $important) {
  $set: _get-scheme-set(background, $token, $tint);
  @include _include-hover-prop-scheme($set, $important);
}

@mixin _include-hover-prop-scheme($set, $important) {
  @include _include-hover-prop-by-theme($set, $important);
}

@mixin _include-transparent-hover-prop-inherit() {
  --hsl: inherit;
}

@mixin _include-transparent-hover-prop() {
  @include _include-transparent-hover-prop-inherit();
}

////
/// Table Module
/// @group Table
////

#{ns(table)} {
  @include relative;
  overflow: visible;
  max-width: 100%;
  @include margin-bottom(10v);

  &:not(#{ns(table--no-scroll)}) {
    table {
      width: 100%;
    }
  }

  table {
    @include size(100%);
    @include margin-top(calc(var(--table-offset) + 16px));
    border-spacing: 0;
    display: block;
    overflow-y: hidden;
    overflow-x: scroll;
  }

  caption {
    @include absolute(calc((var(--table-offset) + 16px) * -1), 0, 0, 0);
    @include title-style(h4, true);
    height: var(--table-offset);
    font-weight: bold;
    text-align: left;
  }

  td,
  th {
    text-align: left;
    vertical-align: middle;
    display: table-cell;
    border: 0;
    @include padding(3v);
    @include padding(4v, md);
    @include text-style(sm);
  }

  th {
    font-weight: font-weight('bold');
  }

  thead {
    td,
    th {
      font-weight: font-weight('bold');
    }
  }

  /* Style bordered, enleve le style even/odd et ajoute des bordures entre chaque ligne */
  &--bordered {
    tbody {
      td,
      th {
        border: 0;
      }
    }
  }

  /*
  * Cache la caption
  */
  &--no-caption {
    @include margin-top(0);

    caption {
      @include sr-only();
    }
  }

  /*
  * Fixe le caption en bas du tableau
  */
  &--caption-bottom {
    @include margin-bottom(15v);

    table {
      @include margin-top(0);
      @include margin-bottom(calc(var(--table-offset) + 32px));
    }

    caption {
      @include absolute(calc(100% + 16px), 0, 0, 0);
      caption-side: bottom;
    }
  }

  /*
  * pas de scroll ni de shadow
  */
  &--no-scroll {
    min-width: auto;

    caption {
      max-width: calc(100vw - 2rem); // eol in mobile even if table overflow
    }

    table {
      overflow-x: hidden;
    }
  }

  /*
  * Fixe la taille des colonnes du tableau
  */
  &--layout-fixed {
    table {
      display: table;
      table-layout: fixed;
    }
  }

  @import 'modules/table-shadow';
}

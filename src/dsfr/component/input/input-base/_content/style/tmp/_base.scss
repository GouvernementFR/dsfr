////
/// Input Module
/// @group input
////

@use '../../../../../../../sass/display';
@use '../../../../../../../sass/icon';
@use '../../../../../../../sass/media-query';
@use '../../../../../../../sass/selector';
@use '../../../../../../../sass/spacing';
@use '../../../../../../../sass/typography';
@import './tool';

@mixin first() {
  #{selector.ns(input)} {
    display: block;
    @include spacing.size(100%);
    border-radius: spacing.space(1v) spacing.space(1v) 0 0;
    @include typography.text-style(md);
    @include spacing.padding(2v 4v);

    /**
   * Style du placeholder
   */
    @include placeholder {
      opacity: 1;
      font-style: italic;
    }

    /**
   * On applique une hauteur maximale si l'élément n'est pas un textarea
   */
    &:not(textarea) {
      max-height: 2.5rem;
    }

    &[type='date'] {
      min-height: 2.5rem;
      background-repeat: no-repeat;
      background-position: spacing.space(calc(100% - 3v) 50%);
      background-size: spacing.space(4v) spacing.space(4v);

      &::-webkit-calendar-picker-indicator {
        display: block;
        @include spacing.margin-right(-1.5v);
        opacity: 0;
      }
    }
  }

  /**
 * Ajout d'un wrapper quand on a besoin de mettre une icône
 */
  #{selector.ns(input-wrap)} {
    @include spacing.relative;
    display: block;

    @include icon.selector {
      @include icon.size(sm, before) {
        @include spacing.absolute(3v, 3v, 3v);
        @include spacing.margin(auto);
        pointer-events: none;
      }
    }

    &--addon {
      @include display.flex;
      @include spacing.size(100%);
    }

    #{selector.ns(input)} {
      @include spacing.padding-right(10v);
    }

    > *:first-child:not(:last-child) {
      &#{selector.ns(input)} {
        @include spacing.padding-right(4v);
      }

      @include media-query.from(md) {
        border-radius: spacing.space(1v 0 0 0);
      }
    }

    > *:last-child:not(:first-child) {
      @include media-query.from(md) {
        border-radius: spacing.space(0 1v 0 0);
      }
    }

    + #{selector.ns(hint-text)} {
      @include spacing.margin-top(2v);
    }
  }

  textarea#{selector.ns(input)} {
    min-height: spacing.space(15v);
  }
}
